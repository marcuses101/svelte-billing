datasource db {
    provider = "sqlite"
    url      = "file:./dev.db"
}

// Define the Skater table
model Skater {
    id            String    @id @default(uuid())
    first_name    String
    last_name     String
    email         String
    date_of_birth DateTime?
    created_on    DateTime  @default(now())
    modified_on   DateTime?
}

model Role {
    name     String     @id
    UserRole UserRole[]
}

// Define the User table
model User {
    id         String     @id @default(uuid())
    username   String
    email      String     @unique
    first_name String?
    last_name  String?
    roles      UserRole[]
    Coach      Coach[]
}

model UserRole {
    user      User   @relation(fields: [user_id], references: [id])
    user_id   String
    role      Role   @relation(fields: [role_name], references: [name])
    role_name String

    @@id([user_id, role_name])
}

model Coach {
    id                   String @id @default(uuid())
    hourly_rate_in_cents Int
    user                 User   @relation(fields: [user_id], references: [id])
    user_id              String
}
